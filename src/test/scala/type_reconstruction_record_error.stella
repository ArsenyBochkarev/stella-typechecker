// The error should be "UNEXPECTED_RECORD_FIELDS"

language core;
extend with #type-reconstruction, #records;

fn iterate(n : Nat) -> auto {
  return { current = n, next = succ(n) }
}

fn main(n : Nat) -> auto {
  return iterate(0).next
}